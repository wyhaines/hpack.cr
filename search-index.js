crystal_doc_search_index_callback({"repository_name":"hpack","body":"# hpack\n\n![Send.cr CI](https://img.shields.io/github/workflow/status/wyhaines/hpack.cr/HPack%20CI?style=for-the-badge&logo=GitHub)\n[![GitHub release](https://img.shields.io/github/release/wyhaines/hpack.cr.svg?style=for-the-badge)](https://github.com/wyhaines/hpack.cr/releases)\n![GitHub commits since latest release (by SemVer)](https://img.shields.io/github/commits-since/wyhaines/hpack.cr/latest?style=for-the-badge)\n\nThis shard provides a standalone, pure Crystal [HPack](https://httpwg.org/specs/rfc7541.html) implementation. HPack is a Huffman-based header compression format that is used with HTTP/2.\n\nThis implementation is based on [@ysbaddaden](https://github.com/ysbaddaden)'s implementation that is bundled inside of his [http2](https://github.com/ysbaddaden/http2) server & client shard, with some modest refactoring and significant improvements, packaged and maintained for current Crystal versions.\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     hpack:\n       github: wyhaines/hpack.cr\n   ```\n\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"hpack\"\n```\n\nThere are two main classes provided by this shard, `HPack::Encoder` and `HPack::Decoder`. The default Encoder will be created with Indexing set to [`NONE`](https://httpwg.org/specs/rfc7541.html#literal.header.without.indexing), huffman encoding false, and the max table size set to 4k (4096 bytes). These parameters can all be set in the constructor.\n\n```crystal\n# To create a default Encoder:\nencoder = HPack::Encoder.new\n\n# To create an encoder with indexing set to Always and Huffamn encoding set to true:\nencoder = HPack::Encoder.new(indexing: HPack::Indexing::ALWAYS, huffman: true)\nencoder = HPack::Encoder.new(HPack::Indexing::ALWAYS, true)\n\n# To create an encoder with the max table size set to 8k (8096 bytes):\nencoder = HPack::Encoder.new(HPack::Indexing::ALWAYS, true, 8096)\n\n# To encode headers:\nencoder.encode(\n  HTTP::Headers {\n    \":status\"       => \"302\",\n    \"cache-control\" => \"private\",\n    \"date\"          => \"Mon, 21 Oct 2013 20:13:21 GMT\",\n    \"location\"      => \"https://www.example.com\"\n  }\n)\n```\n\nTo decode headers, used a `HPack::Decoder` instance. By default, a decoder is created with a 4k (4096 bytes) table size. That table size can be changed in the constructor.\n\n```crystal\n# To create a default Decoder:\ndecoder = HPack::Decoder.new\n\n# To create a decoder with a larger table size:\ndecoder = HPack::Decoder.new(8192)\n\n# To decode headers:\nheaders = decoder.decode(bytes)\n\n# To decode headers into an existing `HTTP::Headers` instance:\nheaders = decoder.decode(bytes, HTTP::Headers.new)\n```\n\n## Contributing\n\n1. Fork it (<https://github.com/wyhaines/hpack/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [Kirk Haines](https://github.com/wyhaines) - creator and maintainer\n\n![GitHub code size in bytes](https://img.shields.io/github/languages/code-size/wyhaines/hack.cr?style=for-the-badge)\n![GitHub issues](https://img.shields.io/github/issues/wyhaines/hack.cr?style=for-the-badge)\n","program":{"html_id":"hpack/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"hpack","program":true,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"hpack/HPack","path":"HPack.html","kind":"module","full_name":"HPack","name":"HPack","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/decoder.cr","line_number":4,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L4"},{"filename":"src/dynamic_table.cr","line_number":1,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/dynamic_table.cr#L1"},{"filename":"src/encoder.cr","line_number":9,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/encoder.cr#L9"},{"filename":"src/error.cr","line_number":1,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/error.cr#L1"},{"filename":"src/huffman.cr","line_number":6,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman.cr#L6"},{"filename":"src/huffman/node.cr","line_number":1,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman/node.cr#L1"},{"filename":"src/indexing.cr","line_number":1,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/indexing.cr#L1"},{"filename":"src/slice_reader.cr","line_number":1,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L1"},{"filename":"src/static_table.cr","line_number":1,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/static_table.cr#L1"},{"filename":"src/version.cr","line_number":1,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/version.cr#L1"}],"repository_name":"hpack","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"HuffmanInstance","name":"HuffmanInstance","value":"Huffman.new([{0_u8, 8184, 13}, {1_u8, 8388568, 23}, {2_u8, 268435426, 28}, {3_u8, 268435427, 28}, {4_u8, 268435428, 28}, {5_u8, 268435429, 28}, {6_u8, 268435430, 28}, {7_u8, 268435431, 28}, {8_u8, 268435432, 28}, {9_u8, 16777194, 24}, {10_u8, 1073741820, 30}, {11_u8, 268435433, 28}, {12_u8, 268435434, 28}, {13_u8, 1073741821, 30}, {14_u8, 268435435, 28}, {15_u8, 268435436, 28}, {16_u8, 268435437, 28}, {17_u8, 268435438, 28}, {18_u8, 268435439, 28}, {19_u8, 268435440, 28}, {20_u8, 268435441, 28}, {21_u8, 268435442, 28}, {22_u8, 1073741822, 30}, {23_u8, 268435443, 28}, {24_u8, 268435444, 28}, {25_u8, 268435445, 28}, {26_u8, 268435446, 28}, {27_u8, 268435447, 28}, {28_u8, 268435448, 28}, {29_u8, 268435449, 28}, {30_u8, 268435450, 28}, {31_u8, 268435451, 28}, {32_u8, 20, 6}, {33_u8, 1016, 10}, {34_u8, 1017, 10}, {35_u8, 4090, 12}, {36_u8, 8185, 13}, {37_u8, 21, 6}, {38_u8, 248, 8}, {39_u8, 2042, 11}, {40_u8, 1018, 10}, {41_u8, 1019, 10}, {42_u8, 249, 8}, {43_u8, 2043, 11}, {44_u8, 250, 8}, {45_u8, 22, 6}, {46_u8, 23, 6}, {47_u8, 24, 6}, {48_u8, 0, 5}, {49_u8, 1, 5}, {50_u8, 2, 5}, {51_u8, 25, 6}, {52_u8, 26, 6}, {53_u8, 27, 6}, {54_u8, 28, 6}, {55_u8, 29, 6}, {56_u8, 30, 6}, {57_u8, 31, 6}, {58_u8, 92, 7}, {59_u8, 251, 8}, {60_u8, 32764, 15}, {61_u8, 32, 6}, {62_u8, 4091, 12}, {63_u8, 1020, 10}, {64_u8, 8186, 13}, {65_u8, 33, 6}, {66_u8, 93, 7}, {67_u8, 94, 7}, {68_u8, 95, 7}, {69_u8, 96, 7}, {70_u8, 97, 7}, {71_u8, 98, 7}, {72_u8, 99, 7}, {73_u8, 100, 7}, {74_u8, 101, 7}, {75_u8, 102, 7}, {76_u8, 103, 7}, {77_u8, 104, 7}, {78_u8, 105, 7}, {79_u8, 106, 7}, {80_u8, 107, 7}, {81_u8, 108, 7}, {82_u8, 109, 7}, {83_u8, 110, 7}, {84_u8, 111, 7}, {85_u8, 112, 7}, {86_u8, 113, 7}, {87_u8, 114, 7}, {88_u8, 252, 8}, {89_u8, 115, 7}, {90_u8, 253, 8}, {91_u8, 8187, 13}, {92_u8, 524272, 19}, {93_u8, 8188, 13}, {94_u8, 16380, 14}, {95_u8, 34, 6}, {96_u8, 32765, 15}, {97_u8, 3, 5}, {98_u8, 35, 6}, {99_u8, 4, 5}, {100_u8, 36, 6}, {101_u8, 5, 5}, {102_u8, 37, 6}, {103_u8, 38, 6}, {104_u8, 39, 6}, {105_u8, 6, 5}, {106_u8, 116, 7}, {107_u8, 117, 7}, {108_u8, 40, 6}, {109_u8, 41, 6}, {110_u8, 42, 6}, {111_u8, 7, 5}, {112_u8, 43, 6}, {113_u8, 118, 7}, {114_u8, 44, 6}, {115_u8, 8, 5}, {116_u8, 9, 5}, {117_u8, 45, 6}, {118_u8, 119, 7}, {119_u8, 120, 7}, {120_u8, 121, 7}, {121_u8, 122, 7}, {122_u8, 123, 7}, {123_u8, 32766, 15}, {124_u8, 2044, 11}, {125_u8, 16381, 14}, {126_u8, 8189, 13}, {127_u8, 268435452, 28}, {128_u8, 1048550, 20}, {129_u8, 4194258, 22}, {130_u8, 1048551, 20}, {131_u8, 1048552, 20}, {132_u8, 4194259, 22}, {133_u8, 4194260, 22}, {134_u8, 4194261, 22}, {135_u8, 8388569, 23}, {136_u8, 4194262, 22}, {137_u8, 8388570, 23}, {138_u8, 8388571, 23}, {139_u8, 8388572, 23}, {140_u8, 8388573, 23}, {141_u8, 8388574, 23}, {142_u8, 16777195, 24}, {143_u8, 8388575, 23}, {144_u8, 16777196, 24}, {145_u8, 16777197, 24}, {146_u8, 4194263, 22}, {147_u8, 8388576, 23}, {148_u8, 16777198, 24}, {149_u8, 8388577, 23}, {150_u8, 8388578, 23}, {151_u8, 8388579, 23}, {152_u8, 8388580, 23}, {153_u8, 2097116, 21}, {154_u8, 4194264, 22}, {155_u8, 8388581, 23}, {156_u8, 4194265, 22}, {157_u8, 8388582, 23}, {158_u8, 8388583, 23}, {159_u8, 16777199, 24}, {160_u8, 4194266, 22}, {161_u8, 2097117, 21}, {162_u8, 1048553, 20}, {163_u8, 4194267, 22}, {164_u8, 4194268, 22}, {165_u8, 8388584, 23}, {166_u8, 8388585, 23}, {167_u8, 2097118, 21}, {168_u8, 8388586, 23}, {169_u8, 4194269, 22}, {170_u8, 4194270, 22}, {171_u8, 16777200, 24}, {172_u8, 2097119, 21}, {173_u8, 4194271, 22}, {174_u8, 8388587, 23}, {175_u8, 8388588, 23}, {176_u8, 2097120, 21}, {177_u8, 2097121, 21}, {178_u8, 4194272, 22}, {179_u8, 2097122, 21}, {180_u8, 8388589, 23}, {181_u8, 4194273, 22}, {182_u8, 8388590, 23}, {183_u8, 8388591, 23}, {184_u8, 1048554, 20}, {185_u8, 4194274, 22}, {186_u8, 4194275, 22}, {187_u8, 4194276, 22}, {188_u8, 8388592, 23}, {189_u8, 4194277, 22}, {190_u8, 4194278, 22}, {191_u8, 8388593, 23}, {192_u8, 67108832, 26}, {193_u8, 67108833, 26}, {194_u8, 1048555, 20}, {195_u8, 524273, 19}, {196_u8, 4194279, 22}, {197_u8, 8388594, 23}, {198_u8, 4194280, 22}, {199_u8, 33554412, 25}, {200_u8, 67108834, 26}, {201_u8, 67108835, 26}, {202_u8, 67108836, 26}, {203_u8, 134217694, 27}, {204_u8, 134217695, 27}, {205_u8, 67108837, 26}, {206_u8, 16777201, 24}, {207_u8, 33554413, 25}, {208_u8, 524274, 19}, {209_u8, 2097123, 21}, {210_u8, 67108838, 26}, {211_u8, 134217696, 27}, {212_u8, 134217697, 27}, {213_u8, 67108839, 26}, {214_u8, 134217698, 27}, {215_u8, 16777202, 24}, {216_u8, 2097124, 21}, {217_u8, 2097125, 21}, {218_u8, 67108840, 26}, {219_u8, 67108841, 26}, {220_u8, 268435453, 28}, {221_u8, 134217699, 27}, {222_u8, 134217700, 27}, {223_u8, 134217701, 27}, {224_u8, 1048556, 20}, {225_u8, 16777203, 24}, {226_u8, 1048557, 20}, {227_u8, 2097126, 21}, {228_u8, 4194281, 22}, {229_u8, 2097127, 21}, {230_u8, 2097128, 21}, {231_u8, 8388595, 23}, {232_u8, 4194282, 22}, {233_u8, 4194283, 22}, {234_u8, 33554414, 25}, {235_u8, 33554415, 25}, {236_u8, 16777204, 24}, {237_u8, 16777205, 24}, {238_u8, 67108842, 26}, {239_u8, 8388596, 23}, {240_u8, 67108843, 26}, {241_u8, 134217702, 27}, {242_u8, 67108844, 26}, {243_u8, 67108845, 26}, {244_u8, 134217703, 27}, {245_u8, 134217704, 27}, {246_u8, 134217705, 27}, {247_u8, 134217706, 27}, {248_u8, 134217707, 27}, {249_u8, 268435454, 28}, {250_u8, 134217708, 27}, {251_u8, 134217709, 27}, {252_u8, 134217710, 27}, {253_u8, 134217711, 27}, {254_u8, 134217712, 27}, {255_u8, 67108846, 26}])","doc":null,"summary":null},{"id":"VERSION","name":"VERSION","value":"\"0.9.0\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"html_id":"huffman-class-method","name":"huffman","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/huffman.cr","line_number":93,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman.cr#L93"},"def":{"name":"huffman","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"HuffmanInstance"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"hpack/HPack/Decoder","path":"HPack/Decoder.html","kind":"struct","full_name":"HPack::Decoder","name":"Decoder","abstract":false,"superclass":{"html_id":"hpack/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"hpack/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"hpack/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"hpack/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/decoder.cr","line_number":20,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L20"}],"repository_name":"hpack","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"hpack/HPack","kind":"module","full_name":"HPack","name":"HPack"},"doc":"To decode headers, used a `HPack::Decoder` instance. By default, a decoder is created with a 4k (4096 bytes) table size. That table size can be changed in the constructor.\n\n```crystal\n# To create a default Decoder:\ndecoder = HPack::Decoder.new\n\n# To create a decoder with a larger table size:\ndecoder = HPack::Decoder.new(8192)\n\n# To decode headers:\nheaders = decoder.decode(bytes)\n\n# To decode headers into an existing `HTTP::Headers` instance:\nheaders = decoder.decode(bytes, HTTP::Headers.new)\n```","summary":"<p>To decode headers, used a <code><a href=\"../HPack/Decoder.html\">HPack::Decoder</a></code> instance.</p>","class_methods":[],"constructors":[{"html_id":"new(max_table_size=4096)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"max_table_size","doc":null,"default_value":"4096","external_name":"max_table_size","restriction":""}],"args_string":"(max_table_size = 4096)","args_html":"(max_table_size = <span class=\"n\">4096</span>)","location":{"filename":"src/decoder.cr","line_number":25,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L25"},"def":{"name":"new","args":[{"name":"max_table_size","doc":null,"default_value":"4096","external_name":"max_table_size","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(max_table_size)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"decode(bytes,headers=HTTP::Headers.new)-instance-method","name":"decode","doc":null,"summary":null,"abstract":false,"args":[{"name":"bytes","doc":null,"default_value":"","external_name":"bytes","restriction":""},{"name":"headers","doc":null,"default_value":"HTTP::Headers.new","external_name":"headers","restriction":""}],"args_string":"(bytes, headers = HTTP::Headers.new)","args_html":"(bytes, headers = <span class=\"t\">HTTP</span><span class=\"t\">::</span><span class=\"t\">Headers</span>.<span class=\"k\">new</span>)","location":{"filename":"src/decoder.cr","line_number":29,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L29"},"def":{"name":"decode","args":[{"name":"bytes","doc":null,"default_value":"","external_name":"bytes","restriction":""},{"name":"headers","doc":null,"default_value":"HTTP::Headers.new","external_name":"headers","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  @reader = SliceReader.new(bytes)\n  decoded_common_headers = false\n  while !reader.done?\n    if (reader.current_byte.bit(7)) == 1\n      index, name, value = literal_indexed\n    else\n      if (reader.current_byte.bit(6)) == 1\n        index, name, value = literal_with_incremental_indexing\n      else\n        if (reader.current_byte.bit(5)) == 1\n          if decoded_common_headers\n            raise(Error.new(\"unexpected dynamic table size update\"))\n          end\n          if (new_size = integer(5)) > max_table_size\n            raise(Error.new(\"dynamic table size update is larger than SETTINGS_HEADER_TABLE_SIZE(#{max_table_size}\"))\n          end\n          table.resize(new_size)\n          next\n        else\n          if (reader.current_byte.bit(4)) == 1\n            index, name, value = literal_never_indexed\n          else\n            index, name, value = literal_without_indexing\n          end\n        end\n      end\n    end\n    decoded_common_headers = 0 < index && index < STATIC_TABLE_SIZE\n    headers.add(name, value)\n  end\n  headers\nrescue ex : IndexError\n  raise(Error.new(\"invalid compression\"))\nend"}},{"html_id":"indexed(index)-instance-method","name":"indexed","doc":null,"summary":null,"abstract":false,"args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":""}],"args_string":"(index)","args_html":"(index)","location":{"filename":"src/decoder.cr","line_number":94,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L94"},"def":{"name":"indexed","args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if 0 < index && index < STATIC_TABLE_SIZE\n  return STATIC_TABLE[index - 1]\nend\nif header = table[(index - STATIC_TABLE_SIZE) - 1]?\n  return header\nend\npp(index: index, static_size: STATIC_TABLE_SIZE, dynamic_size: table.size)\nraise(Error.new(\"invalid index: #{index}\"))\n"}},{"html_id":"integer(n)-instance-method","name":"integer","doc":null,"summary":null,"abstract":false,"args":[{"name":"n","doc":null,"default_value":"","external_name":"n","restriction":""}],"args_string":"(n)","args_html":"(n)","location":{"filename":"src/decoder.cr","line_number":108,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L108"},"def":{"name":"integer","args":[{"name":"n","doc":null,"default_value":"","external_name":"n","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"integer = (reader.read_byte & (255 >> (8 - n))).to_i\nn2 = (2 ** n) - 1\nif integer < n2\n  return integer\nend\nm = 0\nloop do\n  byte = reader.read_byte\n  integer = integer + ((byte & 127).to_i * (2 ** (m * 7)))\n  if (byte & 128) == 128\n  else\n    break\n  end\n  m = m + 1\nend\ninteger\n"}},{"html_id":"literal_indexed-instance-method","name":"literal_indexed","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/decoder.cr","line_number":62,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L62"},"def":{"name":"literal_indexed","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"index = integer(7)\nif index == 0\n  raise(Error.new(\"invalid index: 0\"))\nend\nname, value = indexed(index)\n{index, name, value}\n"}},{"html_id":"literal_never_indexed-instance-method","name":"literal_never_indexed","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/decoder.cr","line_number":79,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L79"},"def":{"name":"literal_never_indexed","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"index = integer(4)\nname = index == 0 ? string : (indexed(index)).first\nvalue = string\n{index, name, value}\n"}},{"html_id":"literal_with_incremental_indexing-instance-method","name":"literal_with_incremental_indexing","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/decoder.cr","line_number":70,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L70"},"def":{"name":"literal_with_incremental_indexing","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"index = integer(6)\nname = index == 0 ? string : (indexed(index)).first\nvalue = string\ntable.add(name, value)\n{index, name, value}\n"}},{"html_id":"literal_without_indexing-instance-method","name":"literal_without_indexing","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/decoder.cr","line_number":87,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L87"},"def":{"name":"literal_without_indexing","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"index = integer(4)\nname = index == 0 ? string : (indexed(index)).first\nvalue = string\n{index, name, value}\n"}},{"html_id":"max_table_size:Int32-instance-method","name":"max_table_size","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","args_html":" : Int32","location":{"filename":"src/decoder.cr","line_number":23,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L23"},"def":{"name":"max_table_size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32","visibility":"Public","body":"@max_table_size"}},{"html_id":"max_table_size=(max_table_size:Int32)-instance-method","name":"max_table_size=","doc":null,"summary":null,"abstract":false,"args":[{"name":"max_table_size","doc":null,"default_value":"","external_name":"max_table_size","restriction":"Int32"}],"args_string":"(max_table_size : Int32)","args_html":"(max_table_size : Int32)","location":{"filename":"src/decoder.cr","line_number":23,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L23"},"def":{"name":"max_table_size=","args":[{"name":"max_table_size","doc":null,"default_value":"","external_name":"max_table_size","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@max_table_size = max_table_size"}},{"html_id":"string-instance-method","name":"string","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/decoder.cr","line_number":125,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L125"},"def":{"name":"string","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"huffman = (reader.current_byte.bit(7)) == 1\nlength = integer(7)\nbytes = reader.read(length)\nif huffman\n  HPack.huffman.decode(bytes)\nelse\n  String.new(bytes)\nend\n"}},{"html_id":"table:DynamicTable-instance-method","name":"table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : DynamicTable","args_html":" : <a href=\"../HPack/DynamicTable.html\">DynamicTable</a>","location":{"filename":"src/decoder.cr","line_number":22,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/decoder.cr#L22"},"def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"DynamicTable","visibility":"Public","body":"@table"}}],"macros":[],"types":[]},{"html_id":"hpack/HPack/DynamicTable","path":"HPack/DynamicTable.html","kind":"class","full_name":"HPack::DynamicTable","name":"DynamicTable","abstract":false,"superclass":{"html_id":"hpack/Deque","kind":"class","full_name":"Deque","name":"Deque"},"ancestors":[{"html_id":"hpack/Deque","kind":"class","full_name":"Deque","name":"Deque"},{"html_id":"hpack/Indexable/Mutable","kind":"module","full_name":"Indexable::Mutable","name":"Mutable"},{"html_id":"hpack/Indexable","kind":"module","full_name":"Indexable","name":"Indexable"},{"html_id":"hpack/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"hpack/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"},{"html_id":"hpack/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"hpack/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/dynamic_table.cr","line_number":9,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/dynamic_table.cr#L9"}],"repository_name":"hpack","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"hpack/HPack","kind":"module","full_name":"HPack","name":"HPack"},"doc":"The DynamicTable is a table of header names and values. It is implemented as a\nsubclass of a Deque in order to get access to all of the iteration and interrogation\nmethods without having to write methods which explicitly wrap them. Fewer lines to\nmaintain is a win. As a caveat, though, do not interact with the storage or deletion\nof data via any methods other than `#add` and `#clear`, as the native `Deque` methods\nwill not keep an accurate tally of the bytesize of the structure.","summary":"<p>The DynamicTable is a table of header names and values.</p>","class_methods":[],"constructors":[{"html_id":"new(maximum=4096)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"maximum","doc":null,"default_value":"4096","external_name":"maximum","restriction":""}],"args_string":"(maximum = 4096)","args_html":"(maximum = <span class=\"n\">4096</span>)","location":{"filename":"src/dynamic_table.cr","line_number":13,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/dynamic_table.cr#L13"},"def":{"name":"new","args":[{"name":"maximum","doc":null,"default_value":"4096","external_name":"maximum","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(maximum)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add(name,value)-instance-method","name":"add","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(name, value)","args_html":"(name, value)","location":{"filename":"src/dynamic_table.cr","line_number":17,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/dynamic_table.cr#L17"},"def":{"name":"add","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"header = {name, value}\nself.unshift(header)\n@bytesize = @bytesize + (count(header))\ncleanup\n"}},{"html_id":"bytesize:Int32-instance-method","name":"bytesize","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","args_html":" : Int32","location":{"filename":"src/dynamic_table.cr","line_number":10,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/dynamic_table.cr#L10"},"def":{"name":"bytesize","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32","visibility":"Public","body":"@bytesize"}},{"html_id":"clear-instance-method","name":"clear","doc":"Removes all elements from `self`.","summary":"<p>Removes all elements from <code>self</code>.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/dynamic_table.cr","line_number":24,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/dynamic_table.cr#L24"},"def":{"name":"clear","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@bytesize = 0\nsuper()\n"}},{"html_id":"maximum:Int32-instance-method","name":"maximum","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","args_html":" : Int32","location":{"filename":"src/dynamic_table.cr","line_number":11,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/dynamic_table.cr#L11"},"def":{"name":"maximum","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32","visibility":"Public","body":"@maximum"}},{"html_id":"maximum=(maximum:Int32)-instance-method","name":"maximum=","doc":null,"summary":null,"abstract":false,"args":[{"name":"maximum","doc":null,"default_value":"","external_name":"maximum","restriction":"Int32"}],"args_string":"(maximum : Int32)","args_html":"(maximum : Int32)","location":{"filename":"src/dynamic_table.cr","line_number":11,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/dynamic_table.cr#L11"},"def":{"name":"maximum=","args":[{"name":"maximum","doc":null,"default_value":"","external_name":"maximum","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@maximum = maximum"}},{"html_id":"resize(maximum)-instance-method","name":"resize","doc":null,"summary":null,"abstract":false,"args":[{"name":"maximum","doc":null,"default_value":"","external_name":"maximum","restriction":""}],"args_string":"(maximum)","args_html":"(maximum)","location":{"filename":"src/dynamic_table.cr","line_number":29,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/dynamic_table.cr#L29"},"def":{"name":"resize","args":[{"name":"maximum","doc":null,"default_value":"","external_name":"maximum","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@maximum = maximum\ncleanup\n"}}],"macros":[],"types":[]},{"html_id":"hpack/HPack/Encoder","path":"HPack/Encoder.html","kind":"struct","full_name":"HPack::Encoder","name":"Encoder","abstract":false,"superclass":{"html_id":"hpack/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"hpack/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"hpack/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"hpack/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/encoder.cr","line_number":33,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/encoder.cr#L33"}],"repository_name":"hpack","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"hpack/HPack","kind":"module","full_name":"HPack","name":"HPack"},"doc":"The default Encoder will be created with Indexing set to [`NONE`](https://httpwg.org/specs/rfc7541.html#literal.header.without.indexing), huffman encoding false, and the max table size set to 4k (4096 bytes). These parameters can all be set in the constructor.\n\n```crystal\n# To create a default Encoder:\nencoder = HPack::Encoder.new\n\n# To create an encoder with indexing set to Always and Huffamn encoding set to true:\nencoder = HPack::Encoder.new(indexing: HPack::Indexing::ALWAYS, huffman: true)\nencoder = HPack::Encoder.new(HPack::Indexing::ALWAYS, true)\n\n# To create an encoder with the max table size set to 8k (8096 bytes):\nencoder = HPack::Encoder.new(HPack::Indexing::ALWAYS, true, 8096)\n\n# To encode headers:\nencoder.encode(\n  HTTP::Headers {\n    \":status\"       => \"302\",\n    \"cache-control\" => \"private\",\n    \"date\"          => \"Mon, 21 Oct 2013 20:13:21 GMT\",\n    \"location\"      => \"https://www.example.com\"\n  }\n)\n```","summary":"<p>The default Encoder will be created with Indexing set to <a href=\"https://httpwg.org/specs/rfc7541.html#literal.header.without.indexing\"><code>NONE</code></a>, huffman encoding false, and the max table size set to 4k (4096 bytes).</p>","class_methods":[],"constructors":[{"html_id":"new(indexing=Indexing::NONE,huffman=false,max_table_size=4096)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"indexing","doc":null,"default_value":"Indexing::NONE","external_name":"indexing","restriction":""},{"name":"huffman","doc":null,"default_value":"false","external_name":"huffman","restriction":""},{"name":"max_table_size","doc":null,"default_value":"4096","external_name":"max_table_size","restriction":""}],"args_string":"(indexing = Indexing::NONE, huffman = false, max_table_size = 4096)","args_html":"(indexing = <span class=\"t\">Indexing</span><span class=\"t\">::</span><span class=\"t\">NONE</span>, huffman = <span class=\"n\">false</span>, max_table_size = <span class=\"n\">4096</span>)","location":{"filename":"src/encoder.cr","line_number":46,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/encoder.cr#L46"},"def":{"name":"new","args":[{"name":"indexing","doc":null,"default_value":"Indexing::NONE","external_name":"indexing","restriction":""},{"name":"huffman","doc":null,"default_value":"false","external_name":"huffman","restriction":""},{"name":"max_table_size","doc":null,"default_value":"4096","external_name":"max_table_size","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(indexing, huffman, max_table_size)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"default_huffman:Bool-instance-method","name":"default_huffman","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","args_html":" : Bool","location":{"filename":"src/encoder.cr","line_number":41,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/encoder.cr#L41"},"def":{"name":"default_huffman","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@default_huffman"}},{"html_id":"default_huffman=(default_huffman:Bool)-instance-method","name":"default_huffman=","doc":null,"summary":null,"abstract":false,"args":[{"name":"default_huffman","doc":null,"default_value":"","external_name":"default_huffman","restriction":"Bool"}],"args_string":"(default_huffman : Bool)","args_html":"(default_huffman : Bool)","location":{"filename":"src/encoder.cr","line_number":41,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/encoder.cr#L41"},"def":{"name":"default_huffman=","args":[{"name":"default_huffman","doc":null,"default_value":"","external_name":"default_huffman","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@default_huffman = default_huffman"}},{"html_id":"default_indexing:Indexing-instance-method","name":"default_indexing","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Indexing","args_html":" : <a href=\"../HPack/Indexing.html\">Indexing</a>","location":{"filename":"src/encoder.cr","line_number":40,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/encoder.cr#L40"},"def":{"name":"default_indexing","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Indexing","visibility":"Public","body":"@default_indexing"}},{"html_id":"default_indexing=(default_indexing:Indexing)-instance-method","name":"default_indexing=","doc":null,"summary":null,"abstract":false,"args":[{"name":"default_indexing","doc":null,"default_value":"","external_name":"default_indexing","restriction":"Indexing"}],"args_string":"(default_indexing : Indexing)","args_html":"(default_indexing : <a href=\"../HPack/Indexing.html\">Indexing</a>)","location":{"filename":"src/encoder.cr","line_number":40,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/encoder.cr#L40"},"def":{"name":"default_indexing=","args":[{"name":"default_indexing","doc":null,"default_value":"","external_name":"default_indexing","restriction":"Indexing"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@default_indexing = default_indexing"}},{"html_id":"encode(headers:HTTP::Headers,indexing=default_indexing,huffman=default_huffman,_writer:IO::Memory?=nil)-instance-method","name":"encode","doc":null,"summary":null,"abstract":false,"args":[{"name":"headers","doc":null,"default_value":"","external_name":"headers","restriction":"HTTP::Headers"},{"name":"indexing","doc":null,"default_value":"default_indexing","external_name":"indexing","restriction":""},{"name":"huffman","doc":null,"default_value":"default_huffman","external_name":"huffman","restriction":""},{"name":"_writer","doc":null,"default_value":"nil","external_name":"_writer","restriction":"IO::Memory | ::Nil"}],"args_string":"(headers : HTTP::Headers, indexing = default_indexing, huffman = default_huffman, _writer : IO::Memory? = nil)","args_html":"(headers : HTTP::Headers, indexing = default_indexing, huffman = default_huffman, _writer : IO::Memory? = <span class=\"n\">nil</span>)","location":{"filename":"src/encoder.cr","line_number":53,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/encoder.cr#L53"},"def":{"name":"encode","args":[{"name":"headers","doc":null,"default_value":"","external_name":"headers","restriction":"HTTP::Headers"},{"name":"indexing","doc":null,"default_value":"default_indexing","external_name":"indexing","restriction":""},{"name":"huffman","doc":null,"default_value":"default_huffman","external_name":"huffman","restriction":""},{"name":"_writer","doc":null,"default_value":"nil","external_name":"_writer","restriction":"IO::Memory | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n      {% if flag?(:preview_mt) %}\n      @mutex.synchronize do\n      {% end %}\n      # If a pre-existing writer is provided, use it.\n      if _writer\n        @writer = _writer\n      else\n        @writer.clear\n      end\n      headers.each { |name, values| encode(name.downcase, values, indexing, huffman) if name.starts_with?(':') }\n      headers.each { |name, values| encode(name.downcase, values, indexing, huffman) unless name.starts_with?(':') }\n\n      # Restore the pre-existing writer.\n      if _writer\n        @writer = @saved_writer\n        _writer.to_slice\n      else\n        @writer.to_slice\n      end\n      {% if flag?(:preview_mt) %}\n      end\n      {% end %}\n      {% end %}"}},{"html_id":"encode(name,values,indexing,huffman)-instance-method","name":"encode","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},{"name":"indexing","doc":null,"default_value":"","external_name":"indexing","restriction":""},{"name":"huffman","doc":null,"default_value":"","external_name":"huffman","restriction":""}],"args_string":"(name, values, indexing, huffman)","args_html":"(name, values, indexing, huffman)","location":{"filename":"src/encoder.cr","line_number":85,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/encoder.cr#L85"},"def":{"name":"encode","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},{"name":"indexing","doc":null,"default_value":"","external_name":"indexing","restriction":""},{"name":"huffman","doc":null,"default_value":"","external_name":"huffman","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"values.each do |value|\n  if header = indexed(name, value)\n    if header[1]\n      integer(header[0], 7, prefix: Indexing::INDEXED)\n    else\n      if indexing == Indexing::ALWAYS\n        integer(header[0], 6, prefix: Indexing::ALWAYS)\n        string(value, huffman)\n        table.add(name, value)\n      else\n        integer(header[0], 4, prefix: Indexing::NONE)\n        string(value, huffman)\n      end\n    end\n  else\n    case indexing\n    when Indexing::ALWAYS\n      table.add(name, value)\n      writer.write_byte(Indexing::ALWAYS.value)\n    when Indexing::NEVER\n      writer.write_byte(Indexing::NEVER.value)\n    else\n      writer.write_byte(Indexing::NONE.value)\n    end\n    string(name, huffman)\n    string(value, huffman)\n  end\nend"}},{"html_id":"table:DynamicTable-instance-method","name":"table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : DynamicTable","args_html":" : <a href=\"../HPack/DynamicTable.html\">DynamicTable</a>","location":{"filename":"src/encoder.cr","line_number":39,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/encoder.cr#L39"},"def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"DynamicTable","visibility":"Public","body":"@table"}}],"macros":[],"types":[]},{"html_id":"hpack/HPack/Error","path":"HPack/Error.html","kind":"class","full_name":"HPack::Error","name":"Error","abstract":false,"superclass":{"html_id":"hpack/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"hpack/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"hpack/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"hpack/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/error.cr","line_number":2,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/error.cr#L2"}],"repository_name":"hpack","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"hpack/HPack","kind":"module","full_name":"HPack","name":"HPack"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"hpack/HPack/Huffman","path":"HPack/Huffman.html","kind":"class","full_name":"HPack::Huffman","name":"Huffman","abstract":false,"superclass":{"html_id":"hpack/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"hpack/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"hpack/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/huffman.cr","line_number":7,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman.cr#L7"},{"filename":"src/huffman/node.cr","line_number":2,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman/node.cr#L2"}],"repository_name":"hpack","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"hpack/HPack","kind":"module","full_name":"HPack","name":"HPack"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(table)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","args_html":"(table)","location":{"filename":"src/huffman.cr","line_number":17,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman.cr#L17"},"def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"decode(bytes:Bytes)-instance-method","name":"decode","doc":null,"summary":null,"abstract":false,"args":[{"name":"bytes","doc":null,"default_value":"","external_name":"bytes","restriction":"Bytes"}],"args_string":"(bytes : Bytes)","args_html":"(bytes : Bytes)","location":{"filename":"src/huffman.cr","line_number":46,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman.cr#L46"},"def":{"name":"decode","args":[{"name":"bytes","doc":null,"default_value":"","external_name":"bytes","restriction":"Bytes"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n      {% if flag?(:preview_mt) %}\n      @mutex.synchronize do\n      {% end %}\n      @io.clear\n      node = tree\n      eos_padding = true\n\n      bytes.each do |byte|\n        byte_has_value = false\n        eos_padding = true\n\n        7.downto(0) do |i|\n          if byte.bit(i) == 1\n            node = node.right\n          else\n            node = node.left\n            eos_padding = false\n          end\n\n          raise Error.new(\"node is nil!\") unless node\n\n          if value = node.value\n            @io.write_byte(value)\n            node = tree\n\n            byte_has_value = true\n            eos_padding = true\n          end\n        end\n\n        # RFC 7541, section 5.2\n        raise Error.new(\"huffman string padding is larger than 7-bits\") unless byte_has_value\n      end\n\n      # RFC 7541, section 5.2\n      raise Error.new(\"huffman string padding must use MSB of EOS symbol\") unless eos_padding\n\n      {% if flag?(:preview_mt) %}\n      end\n      {% end %}\n      {% end %}\n@io.to_s\n"}},{"html_id":"encode(string:String)-instance-method","name":"encode","doc":null,"summary":null,"abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":"String"}],"args_string":"(string : String)","args_html":"(string : String)","location":{"filename":"src/huffman.cr","line_number":26,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman.cr#L26"},"def":{"name":"encode","args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"bytes = Bytes.new(string.bytesize)\noffset = k = 0\nstring.each_byte do |chr|\n  _, binary, len = table[chr]\n  (len - 1).downto(0) do |i|\n    j = offset % 8\n    if j == 0\n      k = offset // 8\n    end\n    if (binary.bit(i)) == 1\n      __temp_42 = k\n      bytes[__temp_42] = bytes[__temp_42] | (128 >> j)\n    end\n    offset = offset + 1\n  end\nend\ncount = (offset / 8.0).ceil.to_i\nif (offset % 8) == 0\nelse\n  __temp_44 = count - 1\n  bytes[__temp_44] = bytes[__temp_44] | (255 >> (offset % 8))\nend\nbytes[0, count]\n"}}],"macros":[],"types":[{"html_id":"hpack/HPack/Huffman/Node","path":"HPack/Huffman/Node.html","kind":"class","full_name":"HPack::Huffman::Node","name":"Node","abstract":false,"superclass":{"html_id":"hpack/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"hpack/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"hpack/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/huffman/node.cr","line_number":3,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman/node.cr#L3"}],"repository_name":"hpack","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"hpack/HPack/Huffman","kind":"class","full_name":"HPack::Huffman","name":"Huffman"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"html_id":"add(binary,len,value)-instance-method","name":"add","doc":null,"summary":null,"abstract":false,"args":[{"name":"binary","doc":null,"default_value":"","external_name":"binary","restriction":""},{"name":"len","doc":null,"default_value":"","external_name":"len","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(binary, len, value)","args_html":"(binary, len, value)","location":{"filename":"src/huffman/node.cr","line_number":13,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman/node.cr#L13"},"def":{"name":"add","args":[{"name":"binary","doc":null,"default_value":"","external_name":"binary","restriction":""},{"name":"len","doc":null,"default_value":"","external_name":"len","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"node = self\n(len - 1).downto(0) do |i|\n  if (binary.bit(i)) == 1\n    node = (node.right || (node.right = Node.new))\n  else\n    node = (node.left || (node.left = Node.new))\n  end\nend\nnode.value = value\nnode\n"}},{"html_id":"leaf?-instance-method","name":"leaf?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/huffman/node.cr","line_number":9,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman/node.cr#L9"},"def":{"name":"leaf?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"left.nil? && right.nil?"}},{"html_id":"left:Node?-instance-method","name":"left","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Node?","args_html":" : <a href=\"../../HPack/Huffman/Node.html\">Node</a>?","location":{"filename":"src/huffman/node.cr","line_number":4,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman/node.cr#L4"},"def":{"name":"left","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node | ::Nil","visibility":"Public","body":"@left"}},{"html_id":"left=(left:Node?)-instance-method","name":"left=","doc":null,"summary":null,"abstract":false,"args":[{"name":"left","doc":null,"default_value":"","external_name":"left","restriction":"Node | ::Nil"}],"args_string":"(left : Node?)","args_html":"(left : <a href=\"../../HPack/Huffman/Node.html\">Node</a>?)","location":{"filename":"src/huffman/node.cr","line_number":4,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman/node.cr#L4"},"def":{"name":"left=","args":[{"name":"left","doc":null,"default_value":"","external_name":"left","restriction":"Node | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@left = left"}},{"html_id":"right:Node?-instance-method","name":"right","doc":"bit 0","summary":"<p>bit 0</p>","abstract":false,"args":[],"args_string":" : Node?","args_html":" : <a href=\"../../HPack/Huffman/Node.html\">Node</a>?","location":{"filename":"src/huffman/node.cr","line_number":5,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman/node.cr#L5"},"def":{"name":"right","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node | ::Nil","visibility":"Public","body":"@right"}},{"html_id":"right=(right:Node?)-instance-method","name":"right=","doc":"bit 0","summary":"<p>bit 0</p>","abstract":false,"args":[{"name":"right","doc":null,"default_value":"","external_name":"right","restriction":"Node | ::Nil"}],"args_string":"(right : Node?)","args_html":"(right : <a href=\"../../HPack/Huffman/Node.html\">Node</a>?)","location":{"filename":"src/huffman/node.cr","line_number":5,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman/node.cr#L5"},"def":{"name":"right=","args":[{"name":"right","doc":null,"default_value":"","external_name":"right","restriction":"Node | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@right = right"}},{"html_id":"value:UInt8?-instance-method","name":"value","doc":"bit 1","summary":"<p>bit 1</p>","abstract":false,"args":[],"args_string":" : UInt8?","args_html":" : UInt8?","location":{"filename":"src/huffman/node.cr","line_number":6,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman/node.cr#L6"},"def":{"name":"value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"UInt8 | ::Nil","visibility":"Public","body":"@value"}},{"html_id":"value=(value:UInt8?)-instance-method","name":"value=","doc":"bit 1","summary":"<p>bit 1</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"UInt8 | ::Nil"}],"args_string":"(value : UInt8?)","args_html":"(value : UInt8?)","location":{"filename":"src/huffman/node.cr","line_number":6,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/huffman/node.cr#L6"},"def":{"name":"value=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"UInt8 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@value = value"}}],"macros":[],"types":[]}]},{"html_id":"hpack/HPack/Indexing","path":"HPack/Indexing.html","kind":"enum","full_name":"HPack::Indexing","name":"Indexing","abstract":false,"superclass":null,"ancestors":[{"html_id":"hpack/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"hpack/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"hpack/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"hpack/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/indexing.cr","line_number":3,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/indexing.cr#L3"}],"repository_name":"hpack","program":false,"enum":true,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"INDEXED","name":"INDEXED","value":"128_u8","doc":null,"summary":null},{"id":"ALWAYS","name":"ALWAYS","value":"64_u8","doc":null,"summary":null},{"id":"NEVER","name":"NEVER","value":"16_u8","doc":null,"summary":null},{"id":"NONE","name":"NONE","value":"0_u8","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"hpack/HPack","kind":"module","full_name":"HPack","name":"HPack"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"html_id":"always?-instance-method","name":"always?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/indexing.cr","line_number":5,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/indexing.cr#L5"},"def":{"name":"always?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.includes?(ALWAYS)"}},{"html_id":"indexed?-instance-method","name":"indexed?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/indexing.cr","line_number":4,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/indexing.cr#L4"},"def":{"name":"indexed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.includes?(INDEXED)"}},{"html_id":"never?-instance-method","name":"never?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/indexing.cr","line_number":6,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/indexing.cr#L6"},"def":{"name":"never?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.includes?(NEVER)"}},{"html_id":"none?-instance-method","name":"none?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/indexing.cr","line_number":3,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/indexing.cr#L3"},"def":{"name":"none?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value == 0"}}],"macros":[],"types":[]},{"html_id":"hpack/HPack/SliceReader","path":"HPack/SliceReader.html","kind":"class","full_name":"HPack::SliceReader","name":"SliceReader","abstract":false,"superclass":{"html_id":"hpack/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"hpack/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"hpack/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/slice_reader.cr","line_number":2,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L2"}],"repository_name":"hpack","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"hpack/HPack","kind":"module","full_name":"HPack","name":"HPack"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(bytes:Bytes,default_endianness=IO::ByteFormat::SystemEndian)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"bytes","doc":null,"default_value":"","external_name":"bytes","restriction":"Bytes"},{"name":"default_endianness","doc":null,"default_value":"IO::ByteFormat::SystemEndian","external_name":"default_endianness","restriction":""}],"args_string":"(bytes : Bytes, default_endianness = IO::ByteFormat::SystemEndian)","args_html":"(bytes : Bytes, default_endianness = <span class=\"t\">IO</span><span class=\"t\">::</span><span class=\"t\">ByteFormat</span><span class=\"t\">::</span><span class=\"t\">SystemEndian</span>)","location":{"filename":"src/slice_reader.cr","line_number":7,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L7"},"def":{"name":"new","args":[{"name":"bytes","doc":null,"default_value":"","external_name":"bytes","restriction":"Bytes"},{"name":"default_endianness","doc":null,"default_value":"IO::ByteFormat::SystemEndian","external_name":"default_endianness","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(bytes, default_endianness)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"bytes:Bytes-instance-method","name":"bytes","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bytes","args_html":" : Bytes","location":{"filename":"src/slice_reader.cr","line_number":4,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L4"},"def":{"name":"bytes","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bytes","visibility":"Public","body":"@bytes"}},{"html_id":"current_byte-instance-method","name":"current_byte","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/slice_reader.cr","line_number":17,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L17"},"def":{"name":"current_byte","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"bytes[offset]"}},{"html_id":"default_endianness:IO::ByteFormat-instance-method","name":"default_endianness","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : IO::ByteFormat","args_html":" : IO::ByteFormat","location":{"filename":"src/slice_reader.cr","line_number":5,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L5"},"def":{"name":"default_endianness","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"IO::ByteFormat","visibility":"Public","body":"@default_endianness"}},{"html_id":"done?-instance-method","name":"done?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/slice_reader.cr","line_number":12,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L12"},"def":{"name":"done?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"offset >= bytes.size"}},{"html_id":"offset:Int32-instance-method","name":"offset","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","args_html":" : Int32","location":{"filename":"src/slice_reader.cr","line_number":3,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L3"},"def":{"name":"offset","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32","visibility":"Public","body":"@offset"}},{"html_id":"read(count)-instance-method","name":"read","doc":null,"summary":null,"abstract":false,"args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""}],"args_string":"(count)","args_html":"(count)","location":{"filename":"src/slice_reader.cr","line_number":43,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L43"},"def":{"name":"read","args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if count < 0\n  count = (bytes.size - offset) - count\nend\nbytes[offset, count].tap do\n  @offset = @offset + count\nend\n"}},{"html_id":"read_byte-instance-method","name":"read_byte","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/slice_reader.cr","line_number":22,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L22"},"def":{"name":"read_byte","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"current_byte.tap do\n  @offset = @offset + 1\nend"}},{"html_id":"read_bytes(type:UInt8.class,endianness=default_endianness)-instance-method","name":"read_bytes","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"UInt8.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"args_string":"(type : UInt8.class, endianness = default_endianness)","args_html":"(type : <span class=\"t\">UInt8</span>.<span class=\"k\">class</span>, endianness = default_endianness)","location":{"filename":"src/slice_reader.cr","line_number":26,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L26"},"def":{"name":"read_bytes","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"UInt8.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buffer = bytes[offset, 1.0]\n@offset = @offset + 1.0\n(buffer.to_unsafe.as(Pointer(UInt8))).value\n"}},{"html_id":"read_bytes(type:Int8.class,endianness=default_endianness)-instance-method","name":"read_bytes","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Int8.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"args_string":"(type : Int8.class, endianness = default_endianness)","args_html":"(type : <span class=\"t\">Int8</span>.<span class=\"k\">class</span>, endianness = default_endianness)","location":{"filename":"src/slice_reader.cr","line_number":26,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L26"},"def":{"name":"read_bytes","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Int8.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buffer = bytes[offset, 1.4142135623730951]\n@offset = @offset + 1.4142135623730951\nif endianness == IO::ByteFormat::SystemEndian\nelse\n  buffer.reverse!\nend\n(buffer.to_unsafe.as(Pointer(Int8))).value\n"}},{"html_id":"read_bytes(type:UInt16.class,endianness=default_endianness)-instance-method","name":"read_bytes","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"UInt16.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"args_string":"(type : UInt16.class, endianness = default_endianness)","args_html":"(type : <span class=\"t\">UInt16</span>.<span class=\"k\">class</span>, endianness = default_endianness)","location":{"filename":"src/slice_reader.cr","line_number":26,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L26"},"def":{"name":"read_bytes","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"UInt16.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buffer = bytes[offset, 2.0]\n@offset = @offset + 2.0\nif endianness == IO::ByteFormat::SystemEndian\nelse\n  buffer.reverse!\nend\n(buffer.to_unsafe.as(Pointer(UInt16))).value\n"}},{"html_id":"read_bytes(type:Int16.class,endianness=default_endianness)-instance-method","name":"read_bytes","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Int16.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"args_string":"(type : Int16.class, endianness = default_endianness)","args_html":"(type : <span class=\"t\">Int16</span>.<span class=\"k\">class</span>, endianness = default_endianness)","location":{"filename":"src/slice_reader.cr","line_number":26,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L26"},"def":{"name":"read_bytes","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Int16.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buffer = bytes[offset, 2.8284271247461903]\n@offset = @offset + 2.8284271247461903\nif endianness == IO::ByteFormat::SystemEndian\nelse\n  buffer.reverse!\nend\n(buffer.to_unsafe.as(Pointer(Int16))).value\n"}},{"html_id":"read_bytes(type:UInt32.class,endianness=default_endianness)-instance-method","name":"read_bytes","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"UInt32.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"args_string":"(type : UInt32.class, endianness = default_endianness)","args_html":"(type : <span class=\"t\">UInt32</span>.<span class=\"k\">class</span>, endianness = default_endianness)","location":{"filename":"src/slice_reader.cr","line_number":26,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L26"},"def":{"name":"read_bytes","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"UInt32.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buffer = bytes[offset, 4.0]\n@offset = @offset + 4.0\nif endianness == IO::ByteFormat::SystemEndian\nelse\n  buffer.reverse!\nend\n(buffer.to_unsafe.as(Pointer(UInt32))).value\n"}},{"html_id":"read_bytes(type:Int32.class,endianness=default_endianness)-instance-method","name":"read_bytes","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Int32.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"args_string":"(type : Int32.class, endianness = default_endianness)","args_html":"(type : <span class=\"t\">Int32</span>.<span class=\"k\">class</span>, endianness = default_endianness)","location":{"filename":"src/slice_reader.cr","line_number":26,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L26"},"def":{"name":"read_bytes","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Int32.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buffer = bytes[offset, 5.656854249492381]\n@offset = @offset + 5.656854249492381\nif endianness == IO::ByteFormat::SystemEndian\nelse\n  buffer.reverse!\nend\n(buffer.to_unsafe.as(Pointer(Int32))).value\n"}},{"html_id":"read_bytes(type:UInt64.class,endianness=default_endianness)-instance-method","name":"read_bytes","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"UInt64.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"args_string":"(type : UInt64.class, endianness = default_endianness)","args_html":"(type : <span class=\"t\">UInt64</span>.<span class=\"k\">class</span>, endianness = default_endianness)","location":{"filename":"src/slice_reader.cr","line_number":26,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L26"},"def":{"name":"read_bytes","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"UInt64.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buffer = bytes[offset, 8.0]\n@offset = @offset + 8.0\nif endianness == IO::ByteFormat::SystemEndian\nelse\n  buffer.reverse!\nend\n(buffer.to_unsafe.as(Pointer(UInt64))).value\n"}},{"html_id":"read_bytes(type:Int64.class,endianness=default_endianness)-instance-method","name":"read_bytes","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Int64.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"args_string":"(type : Int64.class, endianness = default_endianness)","args_html":"(type : <span class=\"t\">Int64</span>.<span class=\"k\">class</span>, endianness = default_endianness)","location":{"filename":"src/slice_reader.cr","line_number":26,"url":"https://github.com/wyhaines/hpack.cr/blob/b6e5d96502280b6558396bbbbaa555ae91a57ce2/src/slice_reader.cr#L26"},"def":{"name":"read_bytes","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Int64.class"},{"name":"endianness","doc":null,"default_value":"default_endianness","external_name":"endianness","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buffer = bytes[offset, 11.313708498984761]\n@offset = @offset + 11.313708498984761\nif endianness == IO::ByteFormat::SystemEndian\nelse\n  buffer.reverse!\nend\n(buffer.to_unsafe.as(Pointer(Int64))).value\n"}}],"macros":[],"types":[]}]}]}})